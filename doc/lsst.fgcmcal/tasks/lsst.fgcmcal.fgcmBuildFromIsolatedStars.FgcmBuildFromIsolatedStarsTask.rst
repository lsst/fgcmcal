.. lsst-task-topic:: lsst.fgcmcal.fgcmBuildFromIsolatedStars.FgcmBuildFromIsolatedStarsTask

##############################
FgcmBuildFromIsolatedStarsTask
##############################

``FgcmBuildFromIsolatedStarsTask`` ingests the isolated star catalogs generated by :doc:`lsst.pipe.tasks.isolatedStarAssociation.IsolatedStarAssociationTask` over all the tracts to create a global input catalog of associated stars for input to fgcm.
This task (optionally) additionally associates these stars with a reference catalog stars which may be used for overall absolute calibration or as an additional constraint on the fit.

This is the second task in a typical ``fgcmcal`` processing chain.
The first is :doc:`lsst.fgcmcal.fgcmMakeLut.FgcmMakeLutTask`, the third is :doc:`lsst.fgcmcal.fgcmFitCycle.FgcmFitCycleTask`, and the fourth is :doc:`lsst.fgcmcal.fgcmOutputProducts.FgcmOutputProductsTask`.

.. _lsst.fgcmcal.fgcmBuildStars.FgcmBuildFromIsolatedStarsTask-summary:

Processing summary
==================

``FgcmBuildFromIsolatedStarsTask`` runs this sequence of operations:

#. Finds visits and collates visit metadata, including exposure time, pointing, typical psf size, background level.

#. Reads in all isolated stars and associated source observations to create a multi-band list of possible calibration stars.

#. Finds high density regions to down-sample calibration stars.

#. Flags reserved stars in a repeatable way.

#. Matches possible calibration stars to a reference catalog.

.. _lsst.fgcmcal.fgcmBuildFromIsolatedStars.FgcmBuildFromIsolatedStarsTask-api:

Python API summary
==================

.. lsst-task-api-summary:: lsst.fgcmcal.fgcmBuildFromIsolatedStars.FgcmBuildFromIsolatedStarsTask

.. _lsst.fgcmcal.fgcmBuildFromIsolatedStars.FgcmBuildFromIsolatedStarsTask-subtasks:

Retargetable subtasks
=====================

.. lsst-task-config-subtasks:: lsst.fgcmcal.fgcmBuildFromIsolatedStars.FgcmBuildFromIsolatedStarsTask

.. _lsst.fgcmcal.fgcmBuildFromIsolatedStars.FgcmBuildFromIsolatedStarsTask-configs:

Configuration fields
====================

.. lsst-task-config-fields:: lsst.fgcmcal.fgcmBuildFromIsolatedStars.FgcmBuildFromIsolatedStarsTask

.. _lsst.fgcmcal.fgcmBuildFromIsolatedStars.FgcmBuildFromIsolatedStarsTask-examples:
